<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-translate="title">StairLight Configuration</title>
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="stylesheet" href="/style.css">
  <script src="/script.js" defer></script>
</head>
<body>
  <div id="titleContainer">
    <button id="langToggle">EN</button>
    <h1 data-translate="title">StairLight Configuration</h1>
  </div>

  <nav>
    <button id="led1NavButton">LED1</button>
    <button id="led2NavButton">LED2</button>
    <button id="dayNightNavButton">Day/Night</button>
  </nav>

  <main id="led1Page" class="sectionBox">
    <h2 data-translate="led1Settings">LED1 Settings</h2>
    <div class="field">
      <label for="led1Type" data-translate="ledType">LED Type:</label>
      <select id="led1Type">
        <option value=""></option>
        <option value="off" data-translate="off">Off</option>
        <option value="ws2811">ws2811</option>
        <option value="ws2812b">ws2812b</option>
        <option value="ws2811_white">ws2811 white</option>
      </select>
    </div>
    <div id="led1ModeSection" class="field hidden">
      <label for="led1InstallationMode" data-translate="installationMode">Installation Mode:</label>
      <select id="led1InstallationMode">
        <option value=""></option>
        <option value="linija" data-translate="linija">Linija</option>
        <option value="stepenica" data-translate="stepenica">Stepenica</option>
      </select>
    </div>
    <div id="led1LinijaSettings" class="field hidden">
      <label for="led1LinijaLEDCount" data-translate="numberOfLEDs">Number of LEDs:</label>
      <input type="number" id="led1LinijaLEDCount" min="1">
    </div>
    <div id="led1StepenicaSettings" class="hidden">
      <div class="field">
        <label for="led1NumSteps" data-translate="numberOfSteps">Number of Steps:</label>
        <input type="number" id="led1NumSteps" min="1">
      </div>
      <div class="field">
        <label for="led1DefaultLedsPerStep" data-translate="defaultLEDsPerStep">Default LEDs per Step:</label>
        <input type="number" id="led1DefaultLedsPerStep" min="1">
      </div>
      <div class="field">
        <label>
          <input type="checkbox" id="led1VariableSteps">
          <span data-translate="variableStepLength">Variable Step Length</span>
        </label>
      </div>
      <div id="led1DynamicSteps" class="field hidden"></div>
      <hr>
      <div class="field">
        <label data-translate="efektKreniOd">Efekt Kreni Od:</label>
        <label>
          <input type="radio" name="led1_efektKreniOd" id="led1_efektKreniOd_sredina" value="sredina" checked>
          <span data-translate="sredine">Sredine</span>
        </label>
        <label>
          <input type="radio" name="led1_efektKreniOd" id="led1_efektKreniOd_ruba" value="ruba">
          <span data-translate="ruba">Ruba</span>
        </label>
      </div>
      <div id="led1_rotDiv" class="field hidden">
        <label>
          <input type="checkbox" id="led1_rotacijaStepenica">
          <span data-translate="rotation">Rotation: 180° every other</span>
        </label>
      </div>
      <hr>
      <div class="field">
        <label data-translate="stepMode">Step Mode:</label>
        <label>
          <input type="radio" name="led1_stepMode" id="led1_stepMode_allAtOnce" value="allAtOnce" checked>
          <span data-translate="allAtOnce">All At Once</span>
        </label>
        <label>
          <input type="radio" name="led1_stepMode" id="led1_stepMode_sequence" value="sequence">
          <span data-translate="sequence">Sequence</span>
        </label>
      </div>
    </div>
    <div id="led1Effects" class="field hidden">
      <label for="led1Effect" data-translate="effect">Effect:</label>
      <select id="led1Effect">
        <option value=""></option>
        <option value="solid" data-translate="solid">Solid</option>
        <option value="confetti" data-translate="confetti">Confetti</option>
        <option value="rainbow" data-translate="rainbow">Rainbow</option>
        <option value="meteor" data-translate="meteor">Meteor</option>
        <option value="fade" data-translate="fade">Fade In/Out</option>
        <option value="fire" data-translate="fire">Fire</option>
        <option value="lightning" data-translate="lightning">Lightning</option>
      </select>
      <div id="led1ColorPicker" class="field hidden">
        <label for="led1Color" data-translate="color">Color:</label>
        <input type="color" id="led1Color" value="#ffffff">
      </div>
      <div class="field">
        <label data-translate="preview">Preview:</label>
        <div id="led1EffectPreview" class="effectPreview"></div>
      </div>
      <div class="field">
        <label for="led1WipeSpeed" data-translate="wipeSpeed">Wipe In/Out Speed (ms):</label>
        <input type="number" id="led1WipeSpeed" min="1">
      </div>
      <div class="field">
        <label for="led1OnTime" data-translate="onTime">On Time (sec):</label>
        <input type="number" id="led1OnTime" min="1">
      </div>
    </div>
  </main>

  <main id="led2Page" class="sectionBox hidden">
    <h2 data-translate="led2Settings">LED2 Settings</h2>
    <div class="field">
      <label for="led2Type" data-translate="ledType">LED Type:</label>
      <select id="led2Type">
        <option value=""></option>
        <option value="off" data-translate="off">Off</option>
        <option value="ws2811">ws2811</option>
        <option value="ws2812b">ws2812b</option>
        <option value="ws2811_white">ws2811 white</option>
      </select>
    </div>
    <div id="led2ModeSection" class="field hidden">
      <label for="led2InstallationMode" data-translate="installationMode">Installation Mode:</label>
      <select id="led2InstallationMode">
        <option value=""></option>
        <option value="linija" data-translate="linija">Linija</option>
        <option value="stepenica" data-translate="stepenica">Stepenica</option>
      </select>
    </div>
    <div id="led2LinijaSettings" class="field hidden">
      <label for="led2LinijaLEDCount" data-translate="numberOfLEDs">Number of LEDs:</label>
      <input type="number" id="led2LinijaLEDCount" min="1">
    </div>
    <div id="led2StepenicaSettings" class="hidden">
      <div class="field">
        <label for="led2NumSteps" data-translate="numberOfSteps">Number of Steps:</label>
        <input type="number" id="led2NumSteps" min="1">
      </div>
      <div class="field">
        <label for="led2DefaultLedsPerStep" data-translate="defaultLEDsPerStep">Default LEDs per Step:</label>
        <input type="number" id="led2DefaultLedsPerStep" min="1">
      </div>
      <div class="field">
        <label>
          <input type="checkbox" id="led2VariableSteps">
          <span data-translate="variableStepLength">Variable Step Length</span>
        </label>
      </div>
      <div id="led2DynamicSteps" class="field hidden"></div>
      <hr>
      <div class="field">
        <label data-translate="efektKreniOd">Efekt Kreni Od:</label>
        <label>
          <input type="radio" name="led2_efektKreniOd" id="led2_efektKreniOd_sredina" value="sredina" checked>
          <span data-translate="sredine">Sredine</span>
        </label>
        <label>
          <input type="radio" name="led2_efektKreniOd" id="led2_efektKreniOd_ruba" value="ruba">
          <span data-translate="ruba">Ruba</span>
        </label>
      </div>
      <div id="led2_rotDiv" class="field hidden">
        <label>
          <input type="checkbox" id="led2_rotacijaStepenica">
          <span data-translate="rotation">Rotation: 180° every other</span>
        </label>
      </div>
      <hr>
      <div class="field">
        <label data-translate="stepMode">Step Mode:</label>
        <label>
          <input type="radio" name="led2_stepMode" id="led2_stepMode_allAtOnce" value="allAtOnce" checked>
          <span data-translate="allAtOnce">All At Once</span>
        </label>
        <label>
          <input type="radio" name="led2_stepMode" id="led2_stepMode_sequence" value="sequence">
          <span data-translate="sequence">Sequence</span>
        </label>
      </div>
    </div>
    <div id="led2Effects" class="field hidden">
      <label for="led2Effect" data-translate="effect">Effect:</label>
      <select id="led2Effect">
        <option value=""></option>
        <option value="solid" data-translate="solid">Solid</option>
        <option value="confetti" data-translate="confetti">Confetti</option>
        <option value="rainbow" data-translate="rainbow">Rainbow</option>
        <option value="meteor" data-translate="meteor">Meteor</option>
        <option value="fade" data-translate="fade">Fade In/Out</option>
        <option value="fire" data-translate="fire">Fire</option>
        <option value="lightning" data-translate="lightning">Lightning</option>
      </select>
      <div id="led2ColorPicker" class="field hidden">
        <label for="led2Color" data-translate="color">Color:</label>
        <input type="color" id="led2Color" value="#ffffff">
      </div>
      <div class="field">
        <label data-translate="preview">Preview:</label>
        <div id="led2EffectPreview" class="effectPreview"></div>
      </div>
      <div class="field">
        <label for="led2WipeSpeed" data-translate="wipeSpeed">Wipe In/Out Speed (ms):</label>
        <input type="number" id="led2WipeSpeed" min="1">
      </div>
      <div class="field">
        <label for="led2OnTime" data-translate="onTime">On Time (sec):</label>
        <input type="number" id="led2OnTime" min="1">
      </div>
    </div>
  </main>

  <main id="dayNightPage" class="sectionBox hidden">
    <h2 data-translate="dayNightSettings">Day/Night Settings</h2>
    <div class="field">
      <label for="dayStart" data-translate="dayStart">Day Starts (HH:MM):</label>
      <input type="time" id="dayStart">
    </div>
    <div class="field">
      <label for="dayEnd" data-translate="dayEnd">Day Ends (HH:MM):</label>
      <input type="time" id="dayEnd">
    </div>
    <div class="field">
      <label for="dayBr" data-translate="dayBrightness">Day Brightness: <span id="dayBrVal">100</span>%</label>
      <input type="range" id="dayBr" min="0" max="100">
    </div>
    <div class="field">
      <label for="nightBr" data-translate="nightBrightness">Night Brightness: <span id="nightBrVal">30</span>%</label>
      <input type="range" id="nightBr" min="0" max="100">
    </div>
  </main>

  <button id="saveConfigButton">Save Settings</button>

  <div id="popup" class="popupModal">
    <div class="popup-content">
      <span class="close-button">&times;</span>
      <p id="popupMsg"></p>
    </div>
  </div>

  <div id="globalSettings" class="sectionBox">
    <div class="global-controls-row">
      <div class="field">
        <label for="mainSwitch" data-translate="mainSwitch">Main Switch:</label>
        <select id="mainSwitch">
          <option value="both">Both</option>
          <option value="led1">LED1</option>
          <option value="led2">LED2</option>
          <option value="none">None</option>
        </select>
      </div>
      <div class="field">
        <label for="maxCurrent" data-translate="maxCurrent">Max Current (mA):</label>
        <input type="number" id="maxCurrent" min="100" max="20000" value="2000">
      </div>
    </div>
  </div>

  <!-- Učitaj script.js još jednom (opcionalno, ako želiš osigurati izvršavanje nakon DOM učitavanja) -->
  <script src="/script.js" defer></script>
</body>
</html>
